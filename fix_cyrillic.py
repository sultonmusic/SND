# coding: utf-8
with open('c:\\Users\\emroa\\Downloads\\SND\\app\\src\\main\\assets\\index.html', 'r', encoding='utf-8') as f:
    content = f.read()

# Count occurrences before
count_before = content.count('Р—')

# This is a Windows-1251 mojibake - need to fix encoding
# The text was encoded as Windows-1251 but read as UTF-8
# We need to reverse this

# Try to fix by converting from the wrong encoding back
import codecs

# Replace known patterns
replacements = [
    ('Р—Р°РіСЂСѓР·РєРё', 'Загрузки'),
    ('РќРµС‚ Р·Р°РіСЂСѓР¶РµРЅРЅС‹С… С„РёР»СЊРјРѕРІ', 'Нет загруженных фильмов'),
    ('Р¤РёР»СЊРј РґРѕР±Р°РІР»РµРЅ РІ Р·Р°РіСЂСѓР·РєРё', 'Фильм добавлен в загрузки'),
    ('РќР°С‡Р°Р»Р°СЃСЊ Р·Р°РіСЂСѓР·РєР°', 'Началась загрузка'),
    ('Р¤РёР»СЊРј РїРѕСЏРІРёС‚СЃСЏ РІ СЂР°Р·РґРµР»Рµ Р·Р°РіСЂСѓР·РѕРє', 'Фильм появится в разделе загрузок'),
    ('Р—Р°РіСЂСѓР¶РµРЅРѕ', 'Загружено'),
    ('РЎРєР°С‡Р°С‚СЊ', 'Скачать'),
    ('Р'С‹ РѕС„Р»Р°Р№РЅ', 'Вы офлайн'),
    ('Р'С‹ РѕРЅР»Р°Р№РЅ', 'Вы онлайн'),
    ('Р'С‹ РѕСЃС‚Р°РЅРѕРІРёР»РёСЃСЊ СЂР°РЅРµРµ', 'Вы остановились ранее'),
    ('РџСЂРѕРґРѕР»Р¶РёС‚СЊ РїСЂРѕСЃРјРѕС‚СЂ СЃ СЌС‚РѕРіРѕ РјРµСЃС‚Р°', 'Продолжить просмотр с этого места'),
    ('РџРѕРєР°Р·С‹РІР°С‚СЊ Р·Р°РїСЂРѕСЃ РїСЂРѕРґРѕР»Р¶РµРЅРёСЏ', 'Показывать запрос продолжения'),
    ('РџСЂРё РІРѕР·РІСЂР°С‚Рµ Рє С„РёР»СЊРјСѓ СЃРїСЂР°С€РёРІР°С‚СЊ', 'При возврате к фильму спрашивать'),
    ('С…РѕС‚РёС‚Рµ Р»Рё РїСЂРѕРґРѕР»Р¶РёС‚СЊ СЃ СЃРѕС…СЂР°РЅС'РЅРЅРѕРіРѕ РјРµСЃС‚Р°', 'хотите ли продолжить с сохранённого места'),
    ('Р"РµР№СЃС‚РІРёС‚РµР»СЊРЅРѕ РґРѕ', 'Действительно до'),
    ('РґРЅРµР№ РѕСЃС‚Р°Р»РѕСЃСЊ', 'дней осталось'),
    ('РѕС†РµРЅРѕРє', 'оценок'),
    ('Р"РѕР±Р°РІРёС‚СЊ РїСЂРѕС„РёР»СЊ', 'Добавить профиль'),
    ('Р"РѕР±Р°РІРёС‚СЊ РґРµС‚СЃРєРёР№', 'Добавить детский'),
    ('РџСЂРѕРјРѕРєРѕРґ', 'Промокод'),
    ('Р'РІРµРґРёС‚Рµ РїСЂРѕРјРѕРєРѕРґ', 'Введите промокод'),
    ('РђРєС‚РёРІРёСЂРѕРІР°С‚СЊ', 'Активировать'),
    ('Р'Р°С€Рё РїСЂРѕРјРѕРєРѕРґС‹', 'Ваши промокоды'),
    ('РђРєС‚РёРІРёСЂРѕРІР°РЅ', 'Активирован'),
    ('РќРµ РёСЃРїРѕР»СЊР·РѕРІР°РЅ', 'Не использован'),
    ('РљРѕРїРёСЂРѕРІР°С‚СЊ', 'Копировать'),
    ('РЎРѕР·РґР°С‚СЊ РєРѕРґ', 'Создать код'),
    ('РџСЂРѕРјРѕРєРѕРґРѕРІ РЅРµС‚', 'Промокодов нет'),
    ('РџСЂРѕРјРѕРєРѕРґ СЃРєРѕРїРёСЂРѕРІР°РЅ', 'Промокод скопирован'),
    ('Р§Р°С‚ РїРѕРґРґРµСЂР¶РєРё', 'Чат поддержки'),
    ('РџРѕР¶Р°Р»СѓР№СЃС‚Р°, РґРѕР¶РґРёС‚РµСЃСЊ РїРѕРґРєР»СЋС‡РµРЅРёСЏ РѕРїРµСЂР°С‚РѕСЂР°', 'Пожалуйста, дождитесь подключения оператора'),
    ('Р'Р°С€Р° РїРѕР·РёС†РёСЏ РІ РѕС‡РµСЂРµРґРё', 'Ваша позиция в очереди'),
    ('Р'РІРµРґРёС‚Рµ СЃРѕРѕР±С‰РµРЅРёРµ', 'Введите сообщение'),
    ('РћС‚РїСЂР°РІРёС‚СЊ', 'Отправить'),
    ('РЎРёСЃС‚РµРјР°', 'Система'),
    ('РћРїРµСЂР°С‚РѕСЂ', 'Оператор'),
    ('РћРїРµСЂР°С‚РѕСЂ Р·Р°РєСЂС‹Р» С‡Р°С‚', 'Оператор закрыл чат'),
    ('РћС‚РєСЂРѕР№С‚Рµ С‡Р°С‚ РїРѕРґРґРµСЂР¶РєРё', 'Откройте чат поддержки'),
    ('РЅР°РїРёС€РёС‚Рµ', 'напишите'),
    ('РѕС‚РїСЂР°РІСЊС‚Рµ СЃРІРѕР№ ID РѕРїРµСЂР°С‚РѕСЂСѓ', 'отправьте свой ID оператору'),
    ('РЎРїР°СЃРёР±Рѕ Р·Р° РѕС†РµРЅРєСѓ', 'Спасибо за оценку'),
    ('SND СЂРµР№С‚РёРЅРі', 'SND рейтинг'),
    ('РћС†РµРЅРёС‚СЊ С„РёР»СЊРј', 'Оценить фильм'),
    ('Р РµР¶РёСЃСЃС'СЂ', 'Режиссёр'),
    ('РџРѕСЃР»РµРґРЅРµРµ РѕР±РЅРѕРІР»РµРЅРёРµ', 'Последнее обновление'),
    ('Р°РІРіСѓСЃС‚Р° 2025', 'августа 2025'),
    ('РЎРјРµРЅРёС‚СЊ Р°РєРєР°СѓРЅС‚', 'Сменить аккаунт'),
    ('Р"Р°', 'Да'),
    ('РќРµС‚', 'Нет'),
    ('Р"РµС‚Р°Р»Рё', 'Детали'),
    ('РђРєС‚РµСЂС‹', 'Актеры'),
    ('Р РµР№С‚РёРЅРі', 'Рейтинг'),
    ('РЎРѕР·РґР°С‚РµР»Рё', 'Создатели'),
    ('РўРІРѕСЏ РѕС†РµРЅРєР°', 'Твоя оценка'),
    ('РћС†РµРЅРєРё СѓР»СѓС‡С€Р°СЋС‚ СЂРµРєРѕРјРµРЅРґР°С†РёРё', 'Оценки улучшают рекомендации'),
    ('Р РµР¶РёСЃСЃСѓСЂР°', 'Режиссура'),
    ('РЎСЋР¶РµС‚', 'Сюжет'),
    ('Р—СЂРµР»РёС‰РЅРѕСЃС‚СЊ', 'Зрелищность'),
    ('РђРєС‚С'СЂС‹', 'Актёры'),
    ('РћС†РµРЅРёС‚СЊ', 'Оценить'),
    ('РљС‚Рѕ СЃРјРѕС‚СЂРёС‚ SND', 'Кто смотрит SND'),
    ('Р'РѕР№С‚Рё РІ РґСЂСѓРіРѕР№ Р°РєРєР°СѓРЅС‚', 'Войти в другой аккаунт'),
    ('РџРѕРґРµР»РёС‚СЊСЃСЏ РїРѕРґРїРёСЃРєРѕР№', 'Поделиться подпиской'),
]

for wrong, correct in replacements:
    content = content.replace(wrong, correct)

# Write back
with open('c:\\Users\\emroa\\Downloads\\SND\\app\\src\\main\\assets\\index.html', 'w', encoding='utf-8') as f:
    f.write(content)

# Count after
count_after = content.count('Загрузки')

print(f"Fixed! 'Загрузки' appears {count_after} times now.")
